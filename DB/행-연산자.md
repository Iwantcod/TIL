# 단일 행 연산자 및 다중 행 연산자

| 술어 | 연산자 | 반환 행 | 반환 열 | 상관 |
| -- | -- | -- | -- | -- |
| 비교 | =, >, <, >=, <=, <> | 단일 | 단일 | 가능 |
| 집합 | IN, NOT IN | 다중 | 다중 | 가능
| 한정 | ALL, SOME(ANY) | 다중 | 단일 | 가능
| 존재 | EXISTS, NOT EXISTS | 다중 | 다중 | 필수 |

### 비교 연산자
`=, >, <, >=, <=, <>`

비교 연산자 사용 시 서브쿼리가 반드시 단일 행, 단일 열을 출력해야 한다. 단일 값 끼리만 비교할 수 있다.

### 집합 연산자
`IN, NOT IN`

메인쿼리의 속성값이 서브쿼리에서 제공한 릴레이션에 있는지(혹은 없는지) 확인하는 연산이다. 다중 행, 다중 열을 결과로 반환한다.<br>
단일 행, 다중 행 모두에 적용할 수 있다.<br>
*참고로 NOT IN 연산에서는 인덱스를 활용할 수 없으므로 주의하자*

### 한정 연산자
`ALL, SOME(ANY)`

한정 연산자는 **비교 연산자**와 함께 사용된다. 그러므로 단일 열 값만 다룰 수 있다. 비교 연산자를 중심으로 왼쪽에는 스칼라 값 혹은 열 이름 등이 위치하고, 오른쪽에는 서브쿼리가 위치한다.<br>
ALL: 서브쿼리 결과 릴레이션의 특정 컬럼의 '모든 값'과 조건을 모두 만족해야 참이다.<br>
SOME: 서브쿼리 결과 릴레이션의 특정 컬럼의 '특정 하나'와 조건을 한번이라도 만족한다면 참이다.

### 존재 연산자
`EXISTS, NOT EXISTS`

데이터의 존재 여부를 확인하는 연산이다. 존재 연산자는 왼쪽에 피연산자가 없고, 오른쪽 서브쿼리만으로 결과를 반환한다. 이 때문에 **반드시** 서브쿼리에 메인쿼리의 열 이름이 제공되어야 한다.(검사 조건)<br>

ex)
```sql
select sum(saleprice) 'total'
from Orders od
where exists (select 1
  from Customer cs
  where address like '%대한민국%' and cs.custid = od.custid);
```

여기에서 'select 1'은 열의 내용을 반환하지 않고, 1을 반환하는 질의문이다. 존재 연산자는 '존재 여부'만을 확인하는 것이 목적이므로 열의 내용이 필요하지 않다. 또한 'select 1'을 통해 쿼리문의 의도를 더 명확히 표현할 수 있으므로 존재연산자 서브쿼리 사용 시 유용하다.